(function(){"use strict";var t={3460:function(t,e,s){var a=s(2856),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"p-2"},[e("button",{staticClass:"btn btn-primary",on:{click:function(e){t.editRequest=!0}}},[t._v("Додати заяву")]),t._v("  "),e("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.editCustomer=!0}}},[t._v("Додати замовника")])]),e("RequestsList",{attrs:{"update-timestamp":t.listUpdateTimestamp},on:{viewRequest:t.viewRequestHandler,editRequest:t.editRequestHandler}}),t.editRequest?e("EditRequestModal",{attrs:{request:t.selectedRequest},on:{formSaved:t.requestFormSavedHandler,closed:function(e){t.editRequest=!1}}}):t._e(),t.editCustomer?e("EditCustomerModal",{on:{closed:function(e){t.editCustomer=!1},formSaved:t.customerFormSavedHandler}}):t._e(),t.viewRequest?e("ViewRequestModal",{attrs:{request:t.selectedRequest},on:{closed:t.viewRequestClosedHandler,editRequest:t.editRequestHandler}}):t._e()],1)])},r=[],n=(s(8992),s(4520),function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"d-flex justify-content-end align-self-end bg-secondary-subtle p-2 gap-2 align-items-end"},[e("div",[e("label",[t._v("Дата від")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.minDate,expression:"filter.minDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.filter.minDate},on:{input:function(e){e.target.composing||t.$set(t.filter,"minDate",e.target.value)}}})]),e("div",[e("label",[t._v("Дата до")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.maxDate,expression:"filter.maxDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.filter.maxDate},on:{input:function(e){e.target.composing||t.$set(t.filter,"maxDate",e.target.value)}}})]),e("button",{staticClass:"btn btn-primary",on:{click:t.clearFilter}},[t._v("Очистити фільтр")])]),e("table",{staticClass:"table"},[t._m(0),t.requests.length?e("tbody",t._l(t.requests,(function(s){return e("tr",{key:s.number},[e("td",[t._v(t._s(s.number))]),e("td",[e("FormattedDate",{attrs:{date:s.date}})],1),e("td",[t._v(t._s(t.requestReasons[s.reason]))]),e("td",[t._v(t._s(s.power)+" кВт")]),e("td",[t._v(t._s(s.customer.lastName)+" "+t._s(s.customer.firstName))]),e("td",[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.editRequestHandler(s)}}},[e("FontAwesomeIcon",{attrs:{icon:["far","edit"]}})],1),t._v("  "),e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.viewRequestHandler(s)}}},[e("FontAwesomeIcon",{attrs:{icon:["far","eye"]}})],1)])])})),0):e("tbody",[t._m(1)])])])}),i=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("№ заяви")]),e("th",{attrs:{scope:"col"}},[t._v("Дата")]),e("th",{attrs:{scope:"col"}},[t._v("Причина звернення")]),e("th",{attrs:{scope:"col"}},[t._v("Потужність приєднання")]),e("th",{attrs:{scope:"col"}},[t._v("Замовник")]),e("th",{attrs:{scope:"col"}},[t._v("Дії")])])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[t._v("Даних не знайдено")])])}],l=s(2908),u=s(876),c=s(3162);const m={1:"нове підключення",2:"збільшення існуючої потужності абонента"};var d=function(){var t=this,e=t._self._c;return e("span",[t._v(t._s(t.formattedDate))])},f=[],p=s(1488),v=s.n(p);const h=s(2749);v().extend(h);var b={name:"FormattedDate",props:{date:{type:String,required:!0}},computed:{formattedDate:function(){return this.date?v()(this.date).format("L"):""}}},C=b,_=s(1656),q=(0,_.A)(C,d,f,!1,null,null,null),D=q.exports;u.Yv.add(c.MT7,c.pS3);var w={name:"RequestsList",components:{FormattedDate:D,FontAwesomeIcon:l.gc},props:{updateTimestamp:Number},data:function(){return{requests:[],requestReasons:m,filter:{minDate:null,maxDate:null}}},created(){this.getRequests()},methods:{getRequests:function(){this.$requestsService.search(this.filter).then((t=>{this.requests=t}))},clearFilter:function(){for(let t in this.filter)this.filter[t]=null},viewRequestHandler:function(t){this.$emit("viewRequest",t)},editRequestHandler:function(t){this.$emit("editRequest",t)}},watch:{updateTimestamp:function(){this.getRequests()},filter:{handler:function(){this.getRequests()},deep:!0}}},y=w,g=(0,_.A)(y,n,i,!1,null,"cec41272",null),R=g.exports,x=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{title:(t.request?"Редагування":"Створення")+" заяви"},on:{closed:t.close}},[e("div",{attrs:{slot:"body"},slot:"body"},[e("RequestForm",{ref:"requestForm",attrs:{request:t.request},on:{saved:t.savedHandler,submitting:t.submittingHandler}})],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.save()}}},[t._v("Зберегти")])])])},F=[],$=(s(1454),function(){var t=this,e=t._self._c;return e("form",{ref:"form",staticClass:"row",on:{submit:function(e){return e.preventDefault(),t.store.apply(null,arguments)}}},[e("div",{staticClass:"col-md-6 mb-3"},[e("label",{staticClass:"form-label"},[t._v("Номер заяви")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.number,expression:"formData.number"}],staticClass:"form-control",attrs:{required:"",type:"text"},domProps:{value:t.formData.number},on:{input:function(e){e.target.composing||t.$set(t.formData,"number",e.target.value)}}})]),e("div",{staticClass:"col-md-6 mb-3"},[e("label",{staticClass:"form-label"},[t._v("Дата створення")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.date,expression:"formData.date"}],staticClass:"form-control",attrs:{required:"",type:"date"},domProps:{value:t.formData.date},on:{input:function(e){e.target.composing||t.$set(t.formData,"date",e.target.value)}}})]),e("div",{staticClass:"col-md-12 mb-3"},[e("label",{staticClass:"form-label"},[t._v("Причина звернення")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.reason,expression:"formData.reason"}],staticClass:"form-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"reason",e.target.multiple?s:s[0])}}},t._l(t.requestReasons,(function(s,a){return e("option",{key:a,domProps:{value:a}},[t._v(t._s(s))])})),0)]),e("div",{staticClass:"col-md-12 mb-3"},[e("label",{staticClass:"form-label"},[t._v("Коментар")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.comment,expression:"formData.comment"}],staticClass:"form-control",attrs:{rows:"4"},domProps:{value:t.formData.comment},on:{input:function(e){e.target.composing||t.$set(t.formData,"comment",e.target.value)}}})]),e("div",{staticClass:"col-md-12 mb-3"},[e("label",{staticClass:"form-label"},[t._v("Потужність приєднання, кВт")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.power,expression:"formData.power"}],staticClass:"form-control",attrs:{required:"",type:"number",step:"any"},domProps:{value:t.formData.power},on:{input:function(e){e.target.composing||t.$set(t.formData,"power",e.target.value)}}})]),e("div",{staticClass:"col-12 bg-secondary-subtle py-2 mb-3"},[e("h4",{staticClass:"text-center"},[t._v("Замовник")]),e("CustomerFormFields",{model:{value:t.formData.customer,callback:function(e){t.$set(t.formData,"customer",e)},expression:"formData.customer"}})],1),t.editCustomer?e("EditCustomerModal",{on:{closed:function(e){t.editCustomer=!1}}}):t._e(),e("div",{staticClass:"col-12"},[e("label",{staticClass:"form-label"},[t._v("Документи")]),e("input",{ref:"fileInput",staticClass:"form-control",attrs:{type:"file",accept:".pdf,.doc",multiple:""},on:{input:t.documentsAddHandler}}),e("DocumentsList",{attrs:{files:t.formData.docs,"show-remove-btn":!0},on:{removeDocument:t.removeDocumentHandler}})],1),e("input",{ref:"submitInput",staticClass:"d-none",attrs:{type:"submit"}})],1)}),A=[],N=(s(4114),s(3949),function(){var t=this,e=t._self._c;return e("Modal",{attrs:{centered:!0,title:"Додати замовника"},on:{closed:t.close}},[e("div",{attrs:{slot:"body"},slot:"body"},[e("CustomerForm",{ref:"customerForm",on:{saved:t.savedHandler,submitting:t.submittingHandler}})],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.formSubmitting},on:{click:function(e){return t.save()}}},[t._v("Зберегти")])])])}),S=[],k=function(){var t=this,e=t._self._c;return e("form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.store.apply(null,arguments)}}},[e("CustomerFormFields",{model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}}),e("input",{ref:"submitInput",staticClass:"d-none",attrs:{type:"submit"}})],1)},H=[],M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 mb-3"},[e("label",{staticClass:"form-label"},[t._v("Прізвище")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.lastName,expression:"formData.lastName"}],staticClass:"form-control",attrs:{required:"",type:"text"},domProps:{value:t.formData.lastName},on:{input:[function(e){e.target.composing||t.$set(t.formData,"lastName",e.target.value)},t.getAutocompleteCustomers]}})]),e("div",{staticClass:"col-md-6 mb-3"},[e("label",{staticClass:"form-label"},[t._v("Ім'я")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.firstName,expression:"formData.firstName"}],staticClass:"form-control",attrs:{required:"",type:"text"},domProps:{value:t.formData.firstName},on:{input:function(e){e.target.composing||t.$set(t.formData,"firstName",e.target.value)}}})]),e("div",{staticClass:"col-12"},[t.autocompleteCustomers.length?e("div",{staticClass:"col-12 position-absolute autocomplete-customers-wrap"},[e("div",{staticClass:"list-group"},t._l(t.autocompleteCustomers,(function(s){return e("a",{key:s.id,staticClass:"list-group-item list-group-item-action",attrs:{href:"#"},on:{click:function(e){return t.autofillCustomer(s)}}},[e("div",{staticClass:"d-flex w-100 justify-content-between"},[e("h5",{staticClass:"mb-1"},[t._v(t._s(s.firstName)+" "+t._s(s.lastName))])]),e("p",{staticClass:"mb-1"},[t._v(t._s(s.address))]),e("small",[t._v(t._s(s.phone))])])})),0)]):t._e()]),e("div",{staticClass:"col-12 mb-3"},[e("label",{staticClass:"form-label"},[t._v("Адреса")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.address,expression:"formData.address"}],staticClass:"form-control",attrs:{required:"",type:"text"},domProps:{value:t.formData.address},on:{input:function(e){e.target.composing||t.$set(t.formData,"address",e.target.value)}}})]),e("div",{staticClass:"col-12 mb-3"},[e("label",{staticClass:"form-label"},[t._v("Телефон")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],staticClass:"form-control",attrs:{required:"",type:"text"},domProps:{value:t.formData.phone},on:{input:function(e){e.target.composing||t.$set(t.formData,"phone",e.target.value)}}})])])},P=[],O={name:"CustomerFormFields",props:{value:Object},data:function(){return{autocompleteCustomers:[],formData:{firstName:null,lastName:null,address:null,phone:null}}},methods:{autofillCustomer:function(t){for(let e in t)e in this.formData&&(this.formData[e]=t[e]);this.$nextTick((()=>{this.autocompleteCustomers=[]}))},getAutocompleteCustomers:function(){this.formData.lastName?this.$customerService.search({lastName:this.formData.lastName}).then((t=>{this.autocompleteCustomers=t})):this.autocompleteCustomers=[]}},watch:{formData:{handler:function(t){this.$emit("input",t)},deep:!0},value:{handler:function(){for(let t in this.value)t in this.formData&&(this.formData[t]=this.value[t])},deep:!0,immediate:!0}}},j=O,I=(0,_.A)(j,M,P,!1,null,"a6e2b4c0",null),L=I.exports,T={name:"CustomerForm",components:{CustomerFormFields:L},props:{value:Object},data:function(){return{autocompleteCustomers:[],formData:{firstName:null,lastName:null,address:null,phone:null}}},watch:{formData:{handler:function(t){this.$emit("input",t)},deep:!0},value:{handler:function(){for(let t in this.value)t in this.formData&&(this.formData[t]=this.value[t])},deep:!0,immediate:!0}},methods:{submit:function(){this.$refs.submitInput.click()},store:function(){this.$emit("submitting",!0),this.$customerService.addCustomer(this.formData).then((()=>{this.$emit("saved")})).finally((()=>{this.$emit("submitting",!1)}))}}},E=T,U=(0,_.A)(E,k,H,!1,null,null,null),B=U.exports,V=function(){var t=this,e=t._self._c;return e("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1"}},[e("div",{staticClass:"modal-dialog",class:t.dialogClass},[e("div",{staticClass:"modal-content",class:t.contentClass},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),e("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}})]),e("div",{staticClass:"modal-body"},[t._t("body")],2),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.close}},[t._v("Закрити")]),t._t("footer")],2)])])])},W=[],Y=s(9930),z={name:"Modal",props:{title:{type:String},backdropClose:{type:Boolean,default:!1},dialogClass:{type:String,default:null},contentClass:{type:String,default:null}},data:function(){return{modal:null}},mounted(){this.modal=new Y.aF(this.$refs.modal,{backdrop:!!this.backdropClose||"static"}),this.$refs.modal.addEventListener("hidden.bs.modal",(()=>{this.close()})),this.modal.show()},beforeDestroy:function(){this.modal.hide()},methods:{close:function(){this.$emit("closed")}}},G=z,J=(0,_.A)(G,V,W,!1,null,null,null),K=J.exports,Q={name:"EditCustomerModal",components:{CustomerForm:B,Modal:K},data:function(){return{formSubmitting:!1}},methods:{close:function(){this.$emit("closed")},save:function(){this.$refs.customerForm.submit()},submittingHandler:function(t){this.formSubmitting=t},savedHandler:function(){this.$emit("formSaved")}}},X=Q,Z=(0,_.A)(X,N,S,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"list-group mt-2"},t._l(t.files,(function(s){return e("div",{key:s.name,staticClass:"list-group-item d-flex justify-content-between"},[e("span",[t._v(t._s(s.name))]),e("div",["application/pdf"===s.type?e("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:function(e){return t.setPreviewFile(s)}}},[e("FontAwesomeIcon",{attrs:{icon:["far","eye"]}})],1):t._e(),t._v("  "),t.showRemoveBtn?e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeDocumentHandler(s)}}},[e("FontAwesomeIcon",{attrs:{icon:["far","trash-can"]}})],1):t._e()])])})),0),t.previewFile?e("DocumentPreviewModal",{attrs:{file:t.previewFile},on:{closed:function(e){t.previewFile=null}}}):t._e()],1)},st=[],at=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{title:t.file.name,"dialog-class":"modal-lg"},on:{closed:function(e){return t.$emit("closed")}}},[e("div",{attrs:{slot:"body"},slot:"body"},[e("iframe",{staticClass:"w-100",attrs:{src:t.fileSrc}})])])},ot=[],rt=(s(4603),s(7566),s(8721),{name:"DocumentPreviewModal",components:{Modal:K},props:{file:{type:File,required:!0}},data:function(){return{fileSrc:null}},created(){this.fileSrc=URL.createObjectURL(this.file)}}),nt=rt,it=(0,_.A)(nt,at,ot,!1,null,"47f3b9e0",null),lt=it.exports;u.Yv.add(c.sjs,c.pS3);var ut={name:"DocumentsList",components:{DocumentPreviewModal:lt,FontAwesomeIcon:l.gc},props:{files:{type:Array,required:!0},showRemoveBtn:{type:Boolean,default:!1}},data:function(){return{previewFile:null}},methods:{setPreviewFile:function(t){this.previewFile=t},removeDocumentHandler:function(t){this.$emit("removeDocument",t)}}},ct=ut,mt=(0,_.A)(ct,et,st,!1,null,null,null),dt=mt.exports,ft={name:"RequestForm",components:{CustomerFormFields:L,DocumentsList:dt,EditCustomerModal:tt},props:{request:{type:Object,default:null}},data:function(){return{isSubmitting:!1,editCustomer:!1,requestReasons:m,previewFile:null,formData:{number:null,date:null,reason:"1",power:null,comment:null,customer:{firstName:null,lastName:null,address:null,phone:null},docs:[]}}},created(){if(this.request)for(let t in this.request)if("docs"===t)this.formData[t]=[...this.request[t]];else if("customer"===t)for(let e in this.request.customer)this.formData.customer[e]=this.request.customer[e];else this.formData[t]=this.request[t]},methods:{store:function(){this.$emit("submitting",!0);const t=this.request?this.$requestsService.updateRequest(this.request.id,this.formData):this.$requestsService.addRequest(this.formData);t.then((()=>{this.$emit("saved")})).finally((()=>{this.$emit("submitting",!1)}))},documentsAddHandler:function(){Array.from(this.$refs.fileInput.files).forEach((t=>{this.formData.docs.push(t)})),this.$refs.fileInput.value=""},removeDocumentHandler:function(t){this.formData.docs=this.formData.docs.filter((e=>e.name!==t.name))},submit:function(){this.$refs.submitInput.click()}}},pt=ft,vt=(0,_.A)(pt,$,A,!1,null,null,null),ht=vt.exports,bt={name:"EditRequestModal",components:{Modal:K,RequestForm:ht},props:{request:{type:Object,default:null}},data:function(){return{modal:null,formSubmitting:!1}},methods:{close:function(){this.$emit("closed")},save:function(){this.$refs.requestForm.submit()},submittingHandler:function(t){this.formSubmitting=t},savedHandler:function(){this.$emit("formSaved")}}},Ct=bt,_t=(0,_.A)(Ct,x,F,!1,null,null,null),qt=_t.exports,Dt=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{title:"Перегляд заяви"},on:{closed:t.close}},[e("div",{attrs:{slot:"body"},slot:"body"},[e("div",{staticClass:"request-print-wrap"},[e("dl",{staticClass:"row"},[e("dt",{staticClass:"col-sm-4"},[t._v("Номер заяви")]),e("dd",{staticClass:"col-sm-8"},[t._v(t._s(t.request.number))]),e("hr"),e("dt",{staticClass:"col-sm-4"},[t._v("Дата")]),e("dd",{staticClass:"col-sm-8"},[e("FormattedDate",{attrs:{date:t.request.date}})],1),e("hr"),e("dt",{staticClass:"col-sm-4"},[t._v("Причина звернення")]),e("dd",{staticClass:"col-sm-8"},[t._v(t._s(t.requestReasons[t.request.reason]))]),e("hr"),e("dt",{staticClass:"col-sm-4"},[t._v("Коментар")]),e("dd",{staticClass:"col-sm-8"},[t._v(t._s(t.request.comment))]),e("hr"),e("dt",{staticClass:"col-sm-4"},[t._v("Потужність приєднання")]),e("dd",{staticClass:"col-sm-8"},[t._v(t._s(t.request.power)+" кВт")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mb-3"},[e("h4",{staticClass:"text-center"},[t._v("Замовник")])]),e("dt",{staticClass:"col-sm-4"},[t._v("Прізвище")]),e("dd",{staticClass:"col-sm-8"},[t._v(t._s(t.request.customer.lastName))]),e("hr"),e("dt",{staticClass:"col-sm-4"},[t._v("Ім'я")]),e("dd",{staticClass:"col-sm-8"},[t._v(t._s(t.request.customer.firstName))]),e("hr"),e("dt",{staticClass:"col-sm-4"},[t._v("Адреса")]),e("dd",{staticClass:"col-sm-8"},[t._v(t._s(t.request.customer.address))]),e("hr"),e("dt",{staticClass:"col-sm-4"},[t._v("Телефон")]),e("dd",{staticClass:"col-sm-8"},[t._v(t._s(t.request.customer.phone))])]),t.request.docs&&t.request.docs.length?e("div",{staticClass:"row d-print-none"},[e("div",{staticClass:"col-12 mb-3"},[e("h4",{staticClass:"text-center"},[t._v("Документи")])]),e("div",{staticClass:"col-12 mb-3"},[e("DocumentsList",{attrs:{files:t.request.docs}})],1)]):t._e()])]),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.printHandler}},[t._v("Друкувати")]),t._v("  "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.editRequestHandler}},[t._v("Редагувати")])])])},wt=[],yt={name:"ViewRequestModal",props:{request:{type:Object,required:!0}},components:{FormattedDate:D,DocumentsList:dt,Modal:K},data:function(){return{requestReasons:m}},methods:{close:function(){this.$emit("closed")},editRequestHandler:function(){this.$emit("editRequest",this.request)},printHandler:function(){window.print()}}},gt=yt,Rt=(0,_.A)(gt,Dt,wt,!1,null,null,null),xt=Rt.exports,Ft={name:"App",components:{EditCustomerModal:tt,EditRequestModal:qt,RequestsList:R,ViewRequestModal:xt},data:function(){return{listUpdateTimestamp:null,editRequest:!1,editCustomer:!1,viewRequest:!1,selectedRequest:null}},methods:{requestFormSavedHandler:function(){this.listUpdateTimestamp=Date.now(),this.editRequest=!1,this.selectedRequest=null},viewRequestHandler:function(t){this.selectedRequest=t,this.viewRequest=!0},viewRequestClosedHandler:function(){this.viewRequest=!1,this.selectedRequest=null},editRequestHandler:function(t){this.viewRequest=!1,this.selectedRequest=t,this.editRequest=!0},customerFormSavedHandler:function(){this.editCustomer=!1}}},$t=Ft,At=(0,_.A)($t,o,r,!1,null,null,null),Nt=At.exports,St=(s(2269),s(9133)),kt=s(9858),Ht=new WeakMap;class Mt{constructor(){(0,St.A)(this,Ht,[{id:1,number:"1",date:"2025-01-01",reason:"1",comment:"test comment",power:2.3,customer:{firstName:"Юрій",lastName:"Петренко",address:"м. Львів, вул. Городоцька 11",phone:"0321172223"}}])}search(t){let e=[];const s={};for(let a in t)t[a]&&(s[a]=t[a]);return e=Object.keys(s).length?(0,kt.A)(Ht,this).filter((t=>{for(let e in s){if("minDate"===e&&new Date(t.date)<new Date(s[e]))return!1;if("maxDate"===e&&new Date(t.date)>new Date(s[e]))return!1}return!0})):[...(0,kt.A)(Ht,this)],new Promise((t=>{t(e)}))}addRequest(t){return new Promise((e=>{const s={id:(new Date).getTime(),...t};(0,kt.A)(Ht,this).push(s),e({...s})}))}updateRequest(t,e){const s=(0,kt.A)(Ht,this).findIndex((e=>e.id===t));for(let a in e)if("docs"===a)(0,kt.A)(Ht,this)[s][a]=[...e[a]];else if("customer"===a)for(let t in e[a])(0,kt.A)(Ht,this)[s][a][t]=e[a][t];else(0,kt.A)(Ht,this)[s][a]=e[a];return new Promise((t=>{t({...(0,kt.A)(Ht,this)[s]})}))}}var Pt=new WeakMap;class Ot{constructor(){(0,St.A)(this,Pt,[{id:1,firstName:"Андрій",lastName:"Садовий",address:"м. Львів, вул. Городоцька 11",phone:"0321172233"}])}search(t){let e=[];return e=t?(0,kt.A)(Pt,this).filter((e=>{for(let s in t)if(t[s]&&!e[s].toLowerCase().includes(t[s].toLowerCase()))return!1;return!0})):[...(0,kt.A)(Pt,this)],new Promise((t=>{t(e)}))}addCustomer(t){return new Promise((e=>{const s={id:(new Date).getTime(),...t};(0,kt.A)(Pt,this).push(s),e({...s})}))}}a.Ay.config.productionTip=!1,a.Ay.prototype.$requestsService=new Mt,a.Ay.prototype.$customerService=new Ot;new a.Ay;new a.Ay({render:t=>t(Nt)}).$mount("#app")}},e={};function s(a){var o=e[a];if(void 0!==o)return o.exports;var r=e[a]={exports:{}};return t[a].call(r.exports,r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,a,o,r){if(!a){var n=1/0;for(c=0;c<t.length;c++){a=t[c][0],o=t[c][1],r=t[c][2];for(var i=!0,l=0;l<a.length;l++)(!1&r||n>=r)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(i=!1,r<n&&(n=r));if(i){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[a,o,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,r,n=a[0],i=a[1],l=a[2],u=0;if(n.some((function(e){return 0!==t[e]}))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(l)var c=l(s)}for(e&&e(a);u<n.length;u++)r=n[u],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(c)},a=self["webpackChunkapp"]=self["webpackChunkapp"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(3460)}));a=s.O(a)})();
//# sourceMappingURL=app.59d050e4.js.map